(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(16),i=n.n(c),o=(n(41),n(42),n(3)),s=n(12),d=n(9),u=n(34),l=(n(43),n(8)),h=n.n(l);function j(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var f=n(18),b=n.n(f),v=n(28),g=n.n(v),O=n(29),m=n(30),p=n(36),_=n(35),x=n(31),k=n.n(x),y=n(19),C=n.n(y),P=n(32),S=n(11),D=n.n(S);D.a.setDriver([D.a.INDEXEDDB,D.a.LOCALSTORAGE]);var N={load:function(){var e=Object(P.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",D.a.getItem(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),save:function(e,t){return D.a.setItem(e,t)},remove:function(e){return D.a.removeItem(e)}},w=function(e){Object(p.a)(n,e);var t=Object(_.a)(n);function n(e){var a;return Object(O.a)(this,n),(a=t.call(this)).periods=void 0,a.id=void 0,a.periods=[],a.id=e,a.loadPeriodsFromStorage(a.id).then((function(e){e&&(a.periods=e,a.emitChange())})),a}return Object(m.a)(n,[{key:"emitChange",value:function(){this.savePeriodsToStorage(this.periods),this.emit("change",this.periods)}},{key:"loadPeriodsFromStorage",value:function(e){return N.load(e)}},{key:"savePeriodsToStorage",value:function(e){N.save(this.id,e)}},{key:"addPeriod",value:function(e,t){var n=this.getPeriod(e);if(n)n.remark=t,this.emitChange();else{var a={date:e,remark:t};this.periods.push(a),this.emitChange()}}},{key:"updatePeriod",value:function(e,t){var n=this.getPeriod(e);n&&(n.remark=t,this.emitChange())}},{key:"removePeriod",value:function(e){var t=this.getPeriod(e);t&&(this.periods.splice(this.periods.indexOf(t),1),this.emitChange())}},{key:"getPeriod",value:function(e){var t=null;return this.periods.forEach((function(n){j(n.date,e)&&(t=n)})),t}},{key:"getPeriods",value:function(){return this.periods}}],[{key:"create",value:function(e){return new n(e)}}]),n}(k.a),F=n(2);function T(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(d.a)(c,2),o=i[0],l=i[1],f=Object(a.useState)((function(){return w.create("period_manager")})),v=Object(d.a)(f,1)[0],O=Object(a.useState)(!1),m=Object(d.a)(O,2),p=m[0],_=m[1];Object(a.useEffect)((function(){var e=function(e){var t=e.map((function(e){return Object(s.a)({},e)}));r(t)};return v.on("change",e),function(){v.off("change",e)}}),[v]);return Object(F.jsxs)("div",{className:h.a.container,children:[Object(F.jsx)(u.a,{onChange:function(e){return l(e),void _(!0)},value:new Date,tileClassName:function(e){var t=e.date;return"month"===e.view&&n.some((function(e){return j(t,e.date)}))?h.a.periods:""}}),o&&Object(F.jsx)(b.a,{isOpen:p,className:h.a.modal,overlayClassName:h.a.overlay,children:Object(F.jsxs)("div",{className:h.a.card,children:[Object(F.jsx)("div",{className:h.a.body,children:Object(F.jsxs)("label",{className:h.a.dateToggle_container,children:[Object(F.jsx)("span",{className:h.a.label,children:"".concat(new Date(o).getDay(),"-").concat(new Date(o).getMonth()+1,"-").concat(new Date(o).getFullYear())}),Object(F.jsx)(g.a,{className:h.a.toggle,defaultChecked:n.some((function(e){return j(o,e.date)})),onChange:function(e){e.target.checked?v.addPeriod(o,""):v.removePeriod(o)}})]})}),Object(F.jsx)("div",{className:h.a.actions,children:Object(F.jsx)("button",{onClick:function(){l(void 0),_(!1)},children:"Close"})})]})})]})}function E(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)((function(){return w.create("period_manager")})),i=Object(d.a)(c,1)[0];Object(a.useEffect)((function(){var e=function(e){var t=e.map((function(e){return Object(s.a)({},e)}));t.sort((function(e,t){return e.date.getTime()-t.date.getTime()})),r(t)};return i.on("change",e),function(){i.off("change",e)}}),[i]);var o=n.map((function(e){return Object(F.jsx)("div",{children:Object(F.jsx)("li",{children:e.date.toDateString()})},e.date.toString())}));return Object(F.jsx)("div",{children:Object(F.jsx)("ul",{children:o})})}b.a.setAppElement("#root");var I=function(){return Object(F.jsx)("div",{children:Object(F.jsxs)(o.c,{children:[Object(F.jsx)(o.a,{path:"/",exact:!0,children:Object(F.jsx)(T,{})}),Object(F.jsx)(o.a,{path:"/stats",children:Object(F.jsx)(E,{})})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},L=n(17);n(63);i.a.render(Object(F.jsx)(r.a.StrictMode,{children:Object(F.jsx)(L.a,{children:Object(F.jsx)(I,{})})}),document.getElementById("root")),Y()},8:function(e,t,n){e.exports={container:"calendar_container__1Uxar",periods:"calendar_periods__K_AYZ",modal:"calendar_modal__13pdY",overlay:"calendar_overlay__DLRUi",dateToggle_container:"calendar_dateToggle_container__3Xcbd",label:"calendar_label__3kSYl",card:"calendar_card__1-GUN",body:"calendar_body__1lFIH",actions:"calendar_actions__3MsVj"}}},[[64,1,2]]]);
//# sourceMappingURL=main.d8a43a58.chunk.js.map